(this["webpackJsonppick-the-color-game"]=this["webpackJsonppick-the-color-game"]||[]).push([[0],{22:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),o=n.n(c),a=n(14),i=n.n(a),s=(n(22),n(4)),l=n(2),u=n(16),m=n(11);var d=Object(l.a)({root:{border:"none",borderTop:"1px solid grey",width:"100%",maxWidth:"250px",margin:"0 0 3.2rem"}}),f=function(){var e=d();return Object(r.jsx)("hr",{className:e.root})};var j=Object(l.a)({titleRoot:{display:"flex",flexDirection:"column",alignItems:"center"},title:{textTransform:"uppercase",letterSpacing:"0.5em",fontWeight:"lighter",margin:"0 auto 5.2rem",marginLeft:"1.6rem",textAlign:"center"}}),h=function(e){var t=e.component,n=void 0===t?"h1":t,c=e.className,o=e.topSeparator,a=void 0!==o&&o,i=e.bottomSeparator,s=void 0!==i&&i,l=Object(m.a)(e,["component","className","topSeparator","bottomSeparator"]),d=j();return Object(r.jsxs)("div",{className:d.titleRoot,children:[a&&Object(r.jsx)(f,{}),Object(r.jsx)(n,Object(u.a)({className:[d.title,c].join(" ")},l)),s&&Object(r.jsx)(f,{})]})},b=n(7),O=n(1).useEffect;var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{up:["ArrowUp","w"],down:["ArrowDown","s"],right:["ArrowRight","d"],left:["ArrowLeft","a"]};O((function(){function n(n){var r=Array.from(e.current.children).indexOf(document.activeElement),c=e.current.children.length,o=Math.sqrt(c),a=Math.floor(r/o),i=Math.floor(r%o);if("Tab"!==n.key){var s,l,u,m;if(-1===r)return null===(s=e.current.children[0])||void 0===s?void 0:s.focus();if(t.down.includes(n.key)?(u=(a+1)*o+i)<=c&&(l=u):t.up.includes(n.key)?(u=(a-1)*o+i)>=0&&(l=u):t.right.includes(n.key)?(u=a*o+(i+1),Math.floor(u/o)===a&&(l=u)):t.left.includes(n.key)&&(u=a*o+(i-1),Math.floor(u/o)===a&&(l=u)),void 0!==l)return null===(m=e.current.children[l])||void 0===m?void 0:m.focus()}}return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t,e])};function p(e){return"hsl(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%)")}var g=Object(l.a)({tiles:{display:"grid",gridTemplateColumns:function(e){var t=e.size;return"repeat(".concat(t,", 1fr)")},gridGap:"min(1vw, 1vh)",color:"white",width:"calc(min(".concat(50,"vh, ").concat(100,"vw) - 3.2rem)"),height:"calc(min(".concat(50,"vh, ").concat(100,"vw) - 3.2rem)")},tile:{border:"none",cursor:"pointer",transition:"transform 0.2s linear",padding:0,"&:focus, &:hover":{outline:"none",transform:"scale(0.9) rotate(2deg)"}}}),x=function(e){var t=e.size,n=e.color,o=e.differentTile,a=e.handleClick,i=function(e,t){var n=30/(t-1),r=e[2]>50?-1:1;return[e[0],e[1],e[2]+n*r]}(n,t),s=g({size:t}),l=Object(c.useRef)();return v(l),Object(r.jsx)("div",{ref:l,className:s.tiles,children:Object(b.a)(Array(t*t)).map((function(e,c){return Object(r.jsx)("button",{className:s.tile,style:{backgroundColor:p(c===o?i:n)},onClick:function(){return a(c)}},"".concat(t,"_").concat(c))}))})};function w(e){return Math.floor(Math.random()*e*e)}function y(){return[Math.floor(360*Math.random()),Math.floor(40*Math.random()+30),Math.floor(40*Math.random()+40)]}function S(){return{color:y(),size:2,differentTile:w(2)}}var N=Object(l.a)({title:{marginBottom:"5.2rem"},score:{marginTop:"5.2rem"}}),k=function(e){var t=e.onGameOver,n=Object(c.useState)(S),o=Object(s.a)(n,2),a=o[0],i=a.color,l=a.size,u=a.differentTile,m=o[1],d=l-2,f=N();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{className:f.title,children:"Pick the different color"}),Object(r.jsx)(x,{size:l,color:i,differentTile:u,handleClick:function(e){e!==u?t(d):m((function(e){var t=e.size;return{size:t+1,color:y(),differentTile:w(t+1)}}))}}),Object(r.jsxs)(h,{component:"h3",className:f.score,children:["Your score: ",d]})]})},T=n(6),z="600px";var M={1:"st",2:"nd",3:"rd",default:"th"};var C=Object(l.a)({table:{width:"100%",marginBottom:"3.2rem",textAlign:"center","& th":{textTransform:"uppercase",fontWeight:"lighter",fontSize:"2rem"},"& th, & td":{padding:"0 1.6rem 0.8rem"}},newRecord:{fontWeight:"normal"},name:{textTransform:"uppercase"}}),I=function(e){var t=e.data,n=C();return Object(r.jsxs)("table",{className:n.table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Rank"}),Object(r.jsx)("th",{children:"Score"}),Object(r.jsx)("th",{children:"Name"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsxs)("tr",{className:e.isNew?n.newRecord:"",children:[Object(r.jsxs)("td",{children:[t+1,Object(r.jsx)("sup",{children:M[t]||M.default})]}),Object(r.jsx)("td",{children:e.score}),Object(r.jsx)("td",{className:n.name,children:e.name})]},"".concat(t,"_").concat(e.name,"_").concat(e.score))}))})]})};var R=Object(l.a)(Object(T.a)({title:{fontSize:"2rem",marginBottom:"1.6rem"},form:{display:"flex",gap:"1.6rem",width:"100%",flexDirection:"column",alignItems:"stretch"}},"@media (min-width: ".concat(z,")"),{form:{flexDirection:"row",alignItems:"baseline",justifyContent:"center",gap:"0","& label":{marginRight:"1.6rem"},"& input":{margin:"0 -1px"}}})),D=function(e){var t=e.onSubmit,n=e.score,o=R();return Object(c.useEffect)((function(){var e;null===(e=document.querySelector("#name"))||void 0===e||e.focus()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{component:"h3",className:o.title,children:"Save your score"}),Object(r.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.name,c=n.score;t({name:r.value,score:c.value})},className:o.form,children:[Object(r.jsx)("input",{type:"hidden",id:"score",name:"score",value:n}),Object(r.jsx)("label",{children:"Enter you name"}),Object(r.jsx)("input",{id:"name",name:"name",maxLength:"10",required:!0}),Object(r.jsx)("button",{type:"submit",children:"Save"})]})]})};var A=Object(l.a)(Object(T.a)({gameOver:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"space-between"},content:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"3.2rem",width:"100%"},title:{marginBottom:"3.2rem"},button:{width:"100%"}},"@media (min-width: ".concat(z,")"),{button:{width:"auto"},gameOver:{width:"auto",height:"auto"}})),E=function(e){var t,n=e.score,o=void 0===n?0:n,a=e.onReset,i=Object(c.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serialize,o=void 0===r?JSON.stringify:r,a=n.deserialize,i=void 0===a?JSON.parse:a,l=Object(c.useState)((function(){var n=window.localStorage.getItem(e);return n?i(n):"function"===typeof t?t():t})),u=Object(s.a)(l,2),m=u[0],d=u[1],f=Object(c.useRef)(e);return Object(c.useEffect)((function(){var t=f.current;t!==e&&window.localStorage.removeItem(t),f.current=e,window.localStorage.setItem(e,o(m))}),[e,m,o]),[m,d]}("pick-the-color-game:highScores",[],{deserialize:function(e){return JSON.parse(e).map((function(e){e.isNew;return Object(m.a)(e,["isNew"])}))}}),j=Object(s.a)(f,2),O=j[0],v=j[1],p=A(),g=((null===(t=O[4])||void 0===t?void 0:t.score)||0)<o;return Object(r.jsxs)("div",{className:p.gameOver,children:[Object(r.jsxs)("div",{className:p.content,children:[Object(r.jsxs)(h,{component:"h2",className:p.title,topSeparator:!0,bottomSeparator:!O.length,children:["Your score: ",o]}),O.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{className:p.title,topSeparator:!0,bottomSeparator:!0,children:"High scores"}),Object(r.jsx)(I,{data:O})]}):null,!u&&g&&Object(r.jsx)(D,{onSubmit:function(e){var t=e.name,n=e.score;v((function(e){return[].concat(Object(b.a)(e),[{name:t,score:n,isNew:!0}]).sort((function(e,t){return t.score-e.score})).slice(0,5)})),d(!0)},score:o})]}),Object(r.jsx)("button",{className:p.button,onClick:a,children:"Try again"})]})};var B=Object(l.a)({app:{flex:1,display:"flex",margin:"3.2rem",height:"100%",justifyContent:"center",alignItems:"center",boxSizing:"border-box",flexDirection:"column",position:"relative"}}),F=function(){var e=Object(c.useState)("play"),t=Object(s.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(),i=Object(s.a)(a,2),l=i[0],u=i[1],m=B(),d={play:Object(r.jsx)(k,{onGameOver:function(e){u(e),o("gameOver")}}),gameOver:Object(r.jsx)(E,{score:l,onReset:function(){return o("play")}})};return Object(r.jsx)("div",{className:m.app,children:d[n]||d.play})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(F,{})}),document.getElementById("root")),L()}},[[30,1,2]]]);
//# sourceMappingURL=main.2ac8a69d.chunk.js.map