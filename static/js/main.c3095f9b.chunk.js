(this["webpackJsonppick-the-color-game"]=this["webpackJsonppick-the-color-game"]||[]).push([[0],{22:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),c=n.n(o),a=n(14),i=n.n(a),s=(n(22),n(4)),l=n(2),u=n(16),m=n(11);var d=Object(l.a)({root:{border:"none",borderTop:"1px solid grey",width:"100%",maxWidth:"250px",margin:"0 0 3.2rem"}}),f=function(){var e=d();return Object(r.jsx)("hr",{className:e.root})};function j(e){var t=e.component,n=e.className,o=e.topSeparator,c=e.bottomSeparator,a=Object(m.a)(e,["component","className","topSeparator","bottomSeparator"]),i=h();return Object(r.jsxs)("div",{className:i.titleRoot,children:[o&&Object(r.jsx)(f,{}),Object(r.jsx)(t,Object(u.a)({className:[i.title,n].join(" ")},a)),c&&Object(r.jsx)(f,{})]})}var h=Object(l.a)({titleRoot:{display:"flex",flexDirection:"column",alignItems:"center"},title:{textTransform:"uppercase",letterSpacing:"0.5em",fontWeight:"lighter",margin:"0 auto 5.2rem",marginLeft:"1.6rem",textAlign:"center"}});j.defaultProps={component:"h1",className:void 0,topSeparator:!1,bottomSeparator:!1};var b=j,p=n(7),O=n(1).useEffect;var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{up:["ArrowUp","w"],down:["ArrowDown","s"],right:["ArrowRight","d"],left:["ArrowLeft","a"]};O((function(){function n(n){var r=Array.from(e.current.children).indexOf(document.activeElement),o=e.current.children.length,c=Math.sqrt(o),a=Math.floor(r/c),i=Math.floor(r%c);if("Tab"!==n.key){var s,l,u,m;if(-1===r)return null===(s=e.current.children[0])||void 0===s?void 0:s.focus();if(t.down.includes(n.key)?(u=(a+1)*c+i)<=o&&(l=u):t.up.includes(n.key)?(u=(a-1)*c+i)>=0&&(l=u):t.right.includes(n.key)?(u=a*c+(i+1),Math.floor(u/c)===a&&(l=u)):t.left.includes(n.key)&&(u=a*c+(i-1),Math.floor(u/c)===a&&(l=u)),void 0!==l)return null===(m=e.current.children[l])||void 0===m?void 0:m.focus()}}return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t,e])};function g(e){return"hsl(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%)")}var x=Object(l.a)({tiles:{display:"grid",gridTemplateColumns:function(e){var t=e.size;return"repeat(".concat(t,", 1fr)")},gridGap:"min(1vw, 1vh)",color:"white",width:"calc(min(".concat(50,"vh, ").concat(100,"vw) - 3.2rem)"),height:"calc(min(".concat(50,"vh, ").concat(100,"vw) - 3.2rem)")},tile:{border:"none",cursor:"pointer",transition:"transform 0.2s linear",padding:0,"&:focus, &:hover":{outline:"none",transform:"scale(0.9) rotate(2deg)"}}}),w=function(e){var t=e.size,n=e.color,c=e.differentTile,a=e.handleClick,i=function(e,t){var n=30/(t-1),r=e[2]>50?-1:1;return[e[0],e[1],e[2]+n*r]}(n,t),s=x({size:t}),l=Object(o.useRef)();return v(l),Object(r.jsx)("div",{ref:l,className:s.tiles,children:Object(p.a)(Array(t*t)).map((function(e,o){return Object(r.jsx)("button",{className:s.tile,style:{backgroundColor:g(o===c?i:n)},onClick:function(){return a(o)}},"".concat(t,"_").concat(o))}))})};function S(e){return Math.floor(Math.random()*e*e)}function y(){return[Math.floor(360*Math.random()),Math.floor(40*Math.random()+30),Math.floor(40*Math.random()+40)]}function N(){return{color:y(),size:2,differentTile:S(2)}}var k=Object(l.a)({title:{marginBottom:"5.2rem"},score:{marginTop:"5.2rem"}}),T=function(e){var t=e.onGameOver,n=Object(o.useState)(N),c=Object(s.a)(n,2),a=c[0],i=a.color,l=a.size,u=a.differentTile,m=c[1],d=l-2,f=k();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{className:f.title,children:"Pick the different color"}),Object(r.jsx)(w,{size:l,color:i,differentTile:u,handleClick:function(e){e!==u?t(d):m((function(e){var t=e.size;return{size:t+1,color:y(),differentTile:S(t+1)}}))}}),Object(r.jsxs)(b,{component:"h3",className:f.score,children:["Your score: ",d]})]})},z=n(6),M="600px";var C={1:"st",2:"nd",3:"rd",default:"th"};var I=Object(l.a)({table:{width:"100%",marginBottom:"3.2rem",textAlign:"center","& th":{textTransform:"uppercase",fontWeight:"lighter",fontSize:"2rem"},"& th, & td":{padding:"0 1.6rem 0.8rem"}},newRecord:{fontWeight:"normal"},name:{textTransform:"uppercase"}}),R=function(e){var t=e.data,n=I();return Object(r.jsxs)("table",{className:n.table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Rank"}),Object(r.jsx)("th",{children:"Score"}),Object(r.jsx)("th",{children:"Name"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsxs)("tr",{className:e.isNew?n.newRecord:"",children:[Object(r.jsxs)("td",{children:[t+1,Object(r.jsx)("sup",{children:C[t]||C.default})]}),Object(r.jsx)("td",{children:e.score}),Object(r.jsx)("td",{className:n.name,children:e.name})]},"".concat(t,"_").concat(e.name,"_").concat(e.score))}))})]})};var D=Object(l.a)(Object(z.a)({title:{fontSize:"2rem",marginBottom:"1.6rem"},form:{display:"flex",gap:"1.6rem",width:"100%",flexDirection:"column",alignItems:"stretch"}},"@media (min-width: ".concat(M,")"),{form:{flexDirection:"row",alignItems:"baseline",justifyContent:"center",gap:"0","& label":{marginRight:"1.6rem"},"& input":{margin:"0 -1px"}}})),A=function(e){var t=e.onSubmit,n=e.score,c=D();return Object(o.useEffect)((function(){var e;null===(e=document.querySelector("#name"))||void 0===e||e.focus()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{component:"h3",className:c.title,children:"Save your score"}),Object(r.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.name,o=n.score;t({name:r.value,score:o.value})},className:c.form,children:[Object(r.jsx)("input",{type:"hidden",id:"score",name:"score",value:n}),Object(r.jsx)("label",{children:"Enter you name"}),Object(r.jsx)("input",{id:"name",name:"name",maxLength:"10",required:!0}),Object(r.jsx)("button",{type:"submit",children:"Save"})]})]})};function E(e){var t,n=e.score,c=e.onReset,a=Object(o.useState)(!1),i=Object(s.a)(a,2),l=i[0],u=i[1],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serialize,c=void 0===r?JSON.stringify:r,a=n.deserialize,i=void 0===a?JSON.parse:a,l=Object(o.useState)((function(){var n=window.localStorage.getItem(e);return n?i(n):"function"===typeof t?t():t})),u=Object(s.a)(l,2),m=u[0],d=u[1],f=Object(o.useRef)(e);return Object(o.useEffect)((function(){var t=f.current;t!==e&&window.localStorage.removeItem(t),f.current=e,window.localStorage.setItem(e,c(m))}),[e,m,c]),[m,d]}("pick-the-color-game:highScores",[],{deserialize:function(e){return JSON.parse(e).map((function(e){e.isNew;return Object(m.a)(e,["isNew"])}))}}),f=Object(s.a)(d,2),j=f[0],h=f[1],O=B(),v=((null===(t=j[4])||void 0===t?void 0:t.score)||0)<n;return Object(r.jsxs)("div",{className:O.gameOver,children:[Object(r.jsxs)("div",{className:O.content,children:[Object(r.jsxs)(b,{component:"h2",className:O.title,topSeparator:!0,bottomSeparator:!j.length,children:["Your score: ",n]}),j.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{className:O.title,topSeparator:!0,bottomSeparator:!0,children:"High scores"}),Object(r.jsx)(R,{data:j})]}):null,!l&&v&&Object(r.jsx)(A,{onSubmit:function(e){var t=e.name,n=e.score;h((function(e){return[].concat(Object(p.a)(e),[{name:t,score:n,isNew:!0}]).sort((function(e,t){return t.score-e.score})).slice(0,5)})),u(!0)},score:n})]}),Object(r.jsx)("button",{className:O.button,onClick:c,children:"Try again"})]})}var B=Object(l.a)(Object(z.a)({gameOver:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"space-between"},content:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"3.2rem",width:"100%"},title:{marginBottom:"3.2rem"},button:{width:"100%"}},"@media (min-width: ".concat(M,")"),{button:{width:"auto"},gameOver:{width:"auto",height:"auto"}}));E.defaultProps={score:0};var F=E;var L=Object(l.a)({app:{flex:1,display:"flex",margin:"3.2rem",height:"100%",justifyContent:"center",alignItems:"center",boxSizing:"border-box",flexDirection:"column",position:"relative"}}),J=function(){var e=Object(o.useState)("play"),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(),i=Object(s.a)(a,2),l=i[0],u=i[1],m=L(),d={play:Object(r.jsx)(T,{onGameOver:function(e){u(e),c("gameOver")}}),gameOver:Object(r.jsx)(F,{score:l,onReset:function(){return c("play")}})};return Object(r.jsx)("div",{className:m.app,children:d[n]||d.play})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),P()}},[[30,1,2]]]);
//# sourceMappingURL=main.c3095f9b.chunk.js.map