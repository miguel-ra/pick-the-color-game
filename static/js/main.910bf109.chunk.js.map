{"version":3,"sources":["components/separator/Separator.js","components/title/Title.js","features/play/useMoveWithKeys.js","features/play/Tiles.js","features/play/Play.js","styles/breakpoints.js","features/game-over/HighScores.js","features/game-over/SaveScoreForm.js","features/game-over/GameOver.js","utils/useLocalStorageState.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","createUseStyles","root","border","borderTop","width","maxWidth","margin","Separator","classes","className","Title","Component","component","topSeparator","bottomSeparator","props","titleRoot","title","join","display","flexDirection","alignItems","textTransform","letterSpacing","fontWeight","marginLeft","textAlign","defaultProps","undefined","useEffect","require","useMoveWithKeys","parentRef","directionKeys","up","down","right","left","handleKeyDown","event","focusedIndex","Array","from","current","children","indexOf","document","activeElement","total","length","size","Math","sqrt","row","floor","column","key","nextFocus","tmp","focus","includes","window","addEventListener","removeEventListener","arrayToHSL","color","tiles","gridTemplateColumns","gridGap","height","tile","cursor","transition","padding","outline","transform","Tiles","differentTile","handleClick","differentColor","factor","plusOrMinus","generateDifferentColor","useRef","ref","map","_","tileIndex","style","backgroundColor","onClick","getRandomPosition","random","getRandomColor","generateInitialState","marginBottom","score","marginTop","Play","onGameOver","useState","setState","BREAKPOINT_SMALL","ordinalSuffix","1","2","3","default","table","fontSize","newRecord","name","HighScores","data","record","index","isNew","form","gap","justifyContent","marginRight","SaveScoreForm","onSubmit","querySelector","autoComplete","preventDefault","target","elements","value","type","id","maxLength","required","GameOver","onReset","saved","setSaved","defaultValue","serialize","JSON","stringify","deserialize","parse","valueInLocalStorage","localStorage","getItem","state","prevKeyRef","prevKey","removeItem","setItem","useLocalStorageState","highScores","setHighScores","canSave","SCORES_TO_SAVE","gameOver","content","sort","a","b","slice","button","app","flex","boxSizing","position","App","screen","setScreen","setScore","screens","play","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"+OAQA,IAAMA,EAAYC,YAAgB,CAChCC,KAAM,CACJC,OAAQ,OACRC,UAAW,iBACXC,MAAO,OACPC,SAAU,QACVC,OAAQ,gBAIGC,EAff,WACE,IAAMC,EAAUT,IAChB,OAAO,oBAAIU,UAAWD,EAAQP,QCAhC,SAASS,EAAT,GAMI,IALSC,EAKV,EALDC,UACAH,EAIC,EAJDA,UACAI,EAGC,EAHDA,aACAC,EAEC,EAFDA,gBACGC,EACF,0EACKP,EAAUT,IAEhB,OACE,sBAAKU,UAAWD,EAAQQ,UAAxB,UACGH,GAAgB,cAAC,EAAD,IACjB,cAACF,EAAD,aAAWF,UAAW,CAACD,EAAQS,MAAOR,GAAWS,KAAK,MAAUH,IAC/DD,GAAmB,cAAC,EAAD,OAK1B,IAAMf,EAAYC,YAAgB,CAChCgB,UAAW,CACTG,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdJ,MAAO,CACLK,cAAe,YACfC,cAAe,QACfC,WAAY,UACZlB,OAAQ,gBACRmB,WAAY,SACZC,UAAW,YAIfhB,EAAMiB,aAAe,CACnBf,UAAW,KACXH,eAAWmB,EACXf,cAAc,EACdC,iBAAiB,GAUJJ,Q,OCrDPmB,EAAcC,EAAQ,GAAtBD,UA8DOE,MA5Df,SACEC,GAOC,IANDC,EAMA,uDANgB,CACdC,GAAI,CAAC,UAAW,KAChBC,KAAM,CAAC,YAAa,KACpBC,MAAO,CAAC,aAAc,KACtBC,KAAM,CAAC,YAAa,MAGtBR,GAAU,WACR,SAASS,EAAcC,GACrB,IAAMC,EAAeC,MAAMC,KAAKV,EAAUW,QAAQC,UAAUC,QAC1DC,SAASC,eAELC,EAAQhB,EAAUW,QAAQC,SAASK,OACnCC,EAAOC,KAAKC,KAAKJ,GACjBK,EAAMF,KAAKG,MAAMd,EAAeU,GAChCK,EAASJ,KAAKG,MAAMd,EAAeU,GAEzC,GAAkB,QAAdX,EAAMiB,IAAV,CAI0B,IAAD,EAIrBC,EAAWC,EAwBc,EA5B7B,IAAsB,IAAlBlB,EACF,iBAAOR,EAAUW,QAAQC,SAAS,UAAlC,aAAO,EAA+Be,QA2BxC,GAtBI1B,EAAcE,KAAKyB,SAASrB,EAAMiB,MACpCE,GAAOL,EAAM,GAAKH,EAAOK,IACdP,IACTS,EAAYC,GAELzB,EAAcC,GAAG0B,SAASrB,EAAMiB,MACzCE,GAAOL,EAAM,GAAKH,EAAOK,IACd,IACTE,EAAYC,GAELzB,EAAcG,MAAMwB,SAASrB,EAAMiB,MAC5CE,EAAML,EAAMH,GAAQK,EAAS,GACzBJ,KAAKG,MAAMI,EAAMR,KAAUG,IAC7BI,EAAYC,IAELzB,EAAcI,KAAKuB,SAASrB,EAAMiB,OAC3CE,EAAML,EAAMH,GAAQK,EAAS,GACzBJ,KAAKG,MAAMI,EAAMR,KAAUG,IAC7BI,EAAYC,SAIE9B,IAAd6B,EACF,iBAAOzB,EAAUW,QAAQC,SAASa,UAAlC,aAAO,EAAuCE,SAIlD,OADAE,OAAOC,iBAAiB,UAAWxB,GAC5B,kBAAMuB,OAAOE,oBAAoB,UAAWzB,MAClD,CAACL,EAAeD,KCnDrB,SAASgC,EAAWC,GAClB,MAAM,OAAN,OAAcA,EAAM,GAApB,aAA2BA,EAAM,GAAjC,cAAyCA,EAAM,GAA/C,MAkCF,IAAMlE,EAAYC,YAAgB,CAChCkE,MAAO,CACL/C,QAAS,OACTgD,oBAAqB,gBAAGjB,EAAH,EAAGA,KAAH,uBAAwBA,EAAxB,WACrBkB,QAAS,gBACTH,MAAO,QACP7D,MAAM,YAAD,OA5CU,GA4CV,eA3CS,IA2CT,iBACLiE,OAAO,YAAD,OA7CS,GA6CT,eA5CQ,IA4CR,kBAERC,KAAM,CACJpE,OAAQ,OACRqE,OAAQ,UACRC,WAAY,wBACZC,QAAS,EACT,mBAAoB,CAClBC,QAAS,OACTC,UAAW,8BAYFC,EApDf,YAA6D,IAA5C1B,EAA2C,EAA3CA,KAAMe,EAAqC,EAArCA,MAAOY,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,YACrCC,EARR,SAAgCd,EAAOf,GACrC,IAAM8B,EAAS,IAAM9B,EAAO,GACtB+B,EAAchB,EAAM,GAAK,IAAM,EAAI,EAEzC,MAAO,CAACA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAKe,EAASC,GAIzBC,CAAuBjB,EAAOf,GAC/C1C,EAAUT,EAAU,CAAEmD,SACtBlB,EAAYmD,mBAGlB,OAFApD,EAAgBC,GAGd,qBAAKoD,IAAKpD,EAAWvB,UAAWD,EAAQ0D,MAAxC,SACG,YAAIzB,MAAMS,EAAOA,IAAOmC,KAAI,SAACC,EAAGC,GAAJ,OAC3B,wBAEE9E,UAAWD,EAAQ8D,KACnBkB,MAAO,CACLC,gBAAiBzB,EACfuB,IAAcV,EAAgBE,EAAiBd,IAGnDyB,QAAS,kBAAMZ,EAAYS,KAR7B,UACUrC,EADV,YACkBqC,UCrB1B,SAASI,EAAkBzC,GACzB,OAAOC,KAAKG,MAAMH,KAAKyC,SAAW1C,EAAOA,GAG3C,SAAS2C,IAIP,MAAO,CAHG1C,KAAKG,MAAsB,IAAhBH,KAAKyC,UAChBzC,KAAKG,MAAsB,GAAhBH,KAAKyC,SAAgB,IAChCzC,KAAKG,MAAsB,GAAhBH,KAAKyC,SAAgB,KAI5C,SAASE,IACP,MAAO,CACL7B,MAAO4B,IACP3C,KAhBiB,EAiBjB2B,cAAec,EAjBE,IA4DrB,IAAM5F,EAAYC,YAAgB,CAChCiB,MAAO,CACL8E,aAAc,UAEhBC,MAAO,CACLC,UAAW,SACXF,aAAc,KAQHG,EArDf,YAA+B,IAAfC,EAAc,EAAdA,WAAc,EACuBC,mBACjDN,GAF0B,0BACnB7B,EADmB,EACnBA,MAAOf,EADY,EACZA,KAAM2B,EADM,EACNA,cAAiBwB,EADX,KAItBL,EAAQ9C,EAzBK,EA0Bb1C,EAAUT,IAkBhB,OACE,qCACE,cAAC,EAAD,CAAOU,UAAWD,EAAQS,MAA1B,sCACA,cAAC,EAAD,CACEiC,KAAMA,EACNe,MAAOA,EACPY,cAAeA,EACfC,YAfN,SAAqBS,GACfA,IAAcV,EAIlBsB,EAAWH,GAZXK,GAAS,gBAAGnD,EAAH,EAAGA,KAAH,MAAe,CACtBA,KAAMA,EAAO,EACbe,MAAO4B,IACPhB,cAAec,EAAkBzC,EAAO,UAqBxC,eAAC,EAAD,CAAOtC,UAAU,KAAKH,UAAWD,EAAQwF,MAAzC,yBACeA,S,OC5DRM,EAAmB,QCIhC,IAAMC,EAAgB,CACpBC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,QAAS,MAiCX,IAAM5G,EAAYC,YAAgB,CAChC4G,MAAO,CACLxG,MAAO,OACP2F,aAAc,SACdrE,UAAW,SACX,OAAQ,CACNJ,cAAe,YACfE,WAAY,UACZqF,SAAU,QAEZ,aAAc,CACZpC,QAAS,oBAGbqC,UAAW,CACTtF,WAAY,UAEduF,KAAM,CACJzF,cAAe,eAcJ0F,EA9Df,YAA+B,IAATC,EAAQ,EAARA,KACdzG,EAAUT,IAChB,OACE,wBAAOU,UAAWD,EAAQoG,MAA1B,UACE,gCACE,+BACE,sCACA,uCACA,2CAGJ,gCACGK,EAAK5B,KAAI,SAAC6B,EAAQC,GAAT,OACR,qBAEE1G,UAAWyG,EAAOE,MAAQ5G,EAAQsG,UAAY,GAFhD,UAIE,+BACGK,EAAQ,EACT,8BAAMZ,EAAcY,IAAUZ,EAAcI,aAE9C,6BAAKO,EAAOlB,QACZ,oBAAIvF,UAAWD,EAAQuG,KAAvB,SAA8BG,EAAOH,SATvC,UACUI,EADV,YACmBD,EAAOH,KAD1B,YACkCG,EAAOlB,iBCSnD,IAAMjG,EAAYC,YAAgB,aAChCiB,MAAO,CACL4F,SAAU,OACVd,aAAc,UAEhBsB,KAAM,CACJlG,QAAS,OACTmG,IAAK,SACLlH,MAAO,OACPgB,cAAe,SACfC,WAAY,YAViB,6BAYRiF,EAZQ,KAYc,CAC3Ce,KAAM,CACJjG,cAAe,MACfC,WAAY,WACZkG,eAAgB,SAChBD,IAAK,IACL,UAAW,CACTE,YAAa,UAEf,UAAW,CACTlH,OAAQ,cAWDmH,EA7Df,YAA6C,IAApBC,EAAmB,EAAnBA,SAAU1B,EAAS,EAATA,MAC3BxF,EAAUT,IAYhB,OAVA8B,qBAAU,WAAO,IAAD,EACd,UAAAiB,SAAS6E,cAAc,gBAAvB,SAAiChE,UAChC,IASD,qCACE,cAAC,EAAD,CAAO/C,UAAU,KAAKH,UAAWD,EAAQS,MAAzC,6BAGA,uBAAM2G,aAAa,MAAMF,SAX7B,SAAsBnF,GACpBA,EAAMsF,iBADqB,MAEHtF,EAAMuF,OAAOC,SAA7BhB,EAFmB,EAEnBA,KAAMf,EAFa,EAEbA,MACd0B,EAAS,CAAEX,KAAMA,EAAKiB,MAAOhC,MAAOA,EAAMgC,SAQSvH,UAAWD,EAAQ6G,KAApE,UACE,uBAAOY,KAAK,SAASC,GAAG,QAAQnB,KAAK,QAAQiB,MAAOhC,IACpD,mDACA,uBAAOkC,GAAG,OAAOnB,KAAK,OAAOoB,UAAU,KAAKC,UAAQ,IACpD,wBAAQH,KAAK,SAAb,yBCjBR,SAASI,EAAT,GAAuC,IAAD,EAAlBrC,EAAkB,EAAlBA,MAAOsC,EAAW,EAAXA,QAAW,EACVlC,oBAAS,GADC,mBAC7BmC,EAD6B,KACtBC,EADsB,OCTtC,SACEhF,GAGC,IAFDiF,EAEA,uDAFe,GAEf,yDAD2D,GAC3D,IADEC,iBACF,MADcC,KAAKC,UACnB,MAD8BC,mBAC9B,MAD4CF,KAAKG,MACjD,IAC0B1C,oBAAS,WACjC,IAAM2C,EAAsBlF,OAAOmF,aAAaC,QAAQzF,GACxD,OAAIuF,EACKF,EAAYE,GAEU,oBAAjBN,EAA8BA,IAAiBA,KAN/D,mBACOS,EADP,KACc7C,EADd,KASM8C,EAAahE,iBAAO3B,GAW1B,OATA3B,qBAAU,WACR,IAAMuH,EAAUD,EAAWxG,QACvByG,IAAY5F,GACdK,OAAOmF,aAAaK,WAAWD,GAEjCD,EAAWxG,QAAUa,EACrBK,OAAOmF,aAAaM,QAAQ9F,EAAKkF,EAAUQ,MAC1C,CAAC1F,EAAK0F,EAAOR,IAET,CAACQ,EAAO7C,GDbqBkD,CAClC,iCACA,GACA,CACEV,YAAa,SAACb,GAAD,OACXW,KAAKG,MAAMd,GAAO3C,KAAI,cAAG+B,MAAH,sCAPQ,mBAE7BoC,EAF6B,KAEjBC,EAFiB,KAU9BjJ,EAAUT,IAEV2J,IAAW,UAAAF,EAAWG,UAAX,eAAgC3D,QAAS,GAAKA,EAW/D,OACE,sBAAKvF,UAAWD,EAAQoJ,SAAxB,UACE,sBAAKnJ,UAAWD,EAAQqJ,QAAxB,UACE,eAAC,EAAD,CACEjJ,UAAU,KACVH,UAAWD,EAAQS,MACnBJ,cAAY,EACZC,iBAAkB0I,EAAWvG,OAJ/B,yBAMe+C,KAEdwD,EAAWvG,OACV,qCACE,cAAC,EAAD,CAAOxC,UAAWD,EAAQS,MAAOJ,cAAY,EAACC,iBAAe,EAA7D,yBAGA,cAAC,EAAD,CAAYmG,KAAMuC,OAElB,MACFjB,GAASmB,GACT,cAAC,EAAD,CAAehC,SA7BvB,YAAwC,IAAhBX,EAAe,EAAfA,KAAMf,EAAS,EAATA,MAC5ByD,GAAc,SAACD,GACb,MAAO,sBAAIA,GAAJ,CAAgB,CAAEzC,OAAMf,QAAOoB,OAAO,KAC1C0C,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEhE,MAAQ+D,EAAE/D,SAC3BiE,MAAM,EApBQ,MAsBnBzB,GAAS,IAuBoCxC,MAAOA,OAGlD,wBAAQvF,UAAWD,EAAQ0J,OAAQxE,QAAS4C,EAA5C,0BAON,IAAMvI,EAAYC,YAAgB,aAChC4J,SAAU,CACRxJ,MAAO,OACPe,QAAS,OACTC,cAAe,SACfC,WAAY,SACZgD,OAAQ,OACRkD,eAAgB,iBAElBsC,QAAS,CACP1I,QAAS,OACTC,cAAe,SACfC,WAAY,SACZ0E,aAAc,SACd3F,MAAO,QAETa,MAAO,CACL8E,aAAc,UAEhBmE,OAAQ,CACN9J,MAAO,SApBsB,6BAsBRkG,EAtBQ,KAsBc,CAC3C4D,OAAQ,CACN9J,MAAO,QAETwJ,SAAU,CACRxJ,MAAO,OACPiE,OAAQ,WAKdgE,EAAS1G,aAAe,CACtBqE,MAAO,GAQMqC,QEjFf,IAAMtI,EAAYC,YAAgB,CAChCmK,IAAK,CACHC,KAAM,EACNjJ,QAAS,OACTb,OAAQ,SACR+D,OAAQ,OACRkD,eAAgB,SAChBlG,WAAY,SACZgJ,UAAW,aACXjJ,cAAe,SACfkJ,SAAU,cAICC,EAlCf,WAAgB,IAAD,EACenE,mBAAS,QADxB,mBACNoE,EADM,KACEC,EADF,OAEarE,qBAFb,mBAENJ,EAFM,KAEC0E,EAFD,KAGPlK,EAAUT,IAEV4K,EAAU,CACdC,KACE,cAAC,EAAD,CACEzE,WAAY,SAACH,GACX0E,EAAS1E,GACTyE,EAAU,eAIhBb,SAAU,cAAC,EAAD,CAAU5D,MAAOA,EAAOsC,QAAS,kBAAMmC,EAAU,YAG7D,OAAO,qBAAKhK,UAAWD,EAAQ2J,IAAxB,SAA8BQ,EAAQH,IAAWG,EAAQC,QCVnDC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1I,SAAS2I,eAAe,SAM1BZ,M","file":"static/js/main.910bf109.chunk.js","sourcesContent":["import React from \"react\";\nimport { createUseStyles } from \"react-jss\";\n\nfunction Separator() {\n  const classes = useStyles();\n  return <hr className={classes.root} />;\n}\n\nconst useStyles = createUseStyles({\n  root: {\n    border: \"none\",\n    borderTop: \"1px solid grey\",\n    width: \"100%\",\n    maxWidth: \"250px\",\n    margin: \"0 0 3.2rem\",\n  },\n});\n\nexport default Separator;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\nimport Separator from \"../separator/Separator\";\n\nfunction Title({\n  component: Component,\n  className,\n  topSeparator,\n  bottomSeparator,\n  ...props\n}) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.titleRoot}>\n      {topSeparator && <Separator />}\n      <Component className={[classes.title, className].join(\" \")} {...props} />\n      {bottomSeparator && <Separator />}\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  titleRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  title: {\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.5em\",\n    fontWeight: \"lighter\",\n    margin: \"0 auto 5.2rem\",\n    marginLeft: \"1.6rem\",\n    textAlign: \"center\",\n  },\n});\n\nTitle.defaultProps = {\n  component: \"h1\",\n  className: undefined,\n  topSeparator: false,\n  bottomSeparator: false,\n};\n\nTitle.propTypes = {\n  component: PropTypes.elementType,\n  className: PropTypes.string,\n  topSeparator: PropTypes.bool,\n  bottomSeparator: PropTypes.bool,\n};\n\nexport default Title;\n","const { useEffect } = require(\"react\");\n\nfunction useMoveWithKeys(\n  parentRef,\n  directionKeys = {\n    up: [\"ArrowUp\", \"w\"],\n    down: [\"ArrowDown\", \"s\"],\n    right: [\"ArrowRight\", \"d\"],\n    left: [\"ArrowLeft\", \"a\"],\n  }\n) {\n  useEffect(() => {\n    function handleKeyDown(event) {\n      const focusedIndex = Array.from(parentRef.current.children).indexOf(\n        document.activeElement\n      );\n      const total = parentRef.current.children.length;\n      const size = Math.sqrt(total);\n      const row = Math.floor(focusedIndex / size);\n      const column = Math.floor(focusedIndex % size);\n\n      if (event.key === \"Tab\") {\n        return;\n      }\n\n      if (focusedIndex === -1) {\n        return parentRef.current.children[0]?.focus();\n      }\n\n      let nextFocus, tmp;\n\n      if (directionKeys.down.includes(event.key)) {\n        tmp = (row + 1) * size + column;\n        if (tmp <= total) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.up.includes(event.key)) {\n        tmp = (row - 1) * size + column;\n        if (tmp >= 0) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.right.includes(event.key)) {\n        tmp = row * size + (column + 1);\n        if (Math.floor(tmp / size) === row) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.left.includes(event.key)) {\n        tmp = row * size + (column - 1);\n        if (Math.floor(tmp / size) === row) {\n          nextFocus = tmp;\n        }\n      }\n\n      if (nextFocus !== undefined) {\n        return parentRef.current.children[nextFocus]?.focus();\n      }\n    }\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [directionKeys, parentRef]);\n}\n\nexport default useMoveWithKeys;\n","import React, { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\nimport useMoveWithKeys from \"./useMoveWithKeys\";\n\nconst MAX_HEIGHT = 50;\nconst MAX_WIDTH = 100;\n\nfunction arrayToHSL(color) {\n  return `hsl(${color[0]}, ${color[1]}%, ${color[2]}%)`;\n}\n\nfunction generateDifferentColor(color, size) {\n  const factor = 30 / (size - 1);\n  const plusOrMinus = color[2] > 50 ? -1 : 1;\n\n  return [color[0], color[1], color[2] + factor * plusOrMinus];\n}\n\nfunction Tiles({ size, color, differentTile, handleClick }) {\n  const differentColor = generateDifferentColor(color, size);\n  const classes = useStyles({ size });\n  const parentRef = useRef();\n  useMoveWithKeys(parentRef);\n\n  return (\n    <div ref={parentRef} className={classes.tiles}>\n      {[...Array(size * size)].map((_, tileIndex) => (\n        <button\n          key={`${size}_${tileIndex}`}\n          className={classes.tile}\n          style={{\n            backgroundColor: arrayToHSL(\n              tileIndex === differentTile ? differentColor : color\n            ),\n          }}\n          onClick={() => handleClick(tileIndex)}\n        />\n      ))}\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  tiles: {\n    display: \"grid\",\n    gridTemplateColumns: ({ size }) => `repeat(${size}, 1fr)`,\n    gridGap: \"min(1vw, 1vh)\",\n    color: \"white\",\n    width: `calc(min(${MAX_HEIGHT}vh, ${MAX_WIDTH}vw) - 3.2rem)`,\n    height: `calc(min(${MAX_HEIGHT}vh, ${MAX_WIDTH}vw) - 3.2rem)`,\n  },\n  tile: {\n    border: \"none\",\n    cursor: \"pointer\",\n    transition: \"transform 0.2s linear\",\n    padding: 0,\n    \"&:focus, &:hover\": {\n      outline: \"none\",\n      transform: \"scale(0.9) rotate(2deg)\",\n    },\n  },\n});\n\nTiles.propTypes = {\n  size: PropTypes.number.isRequired,\n  color: PropTypes.arrayOf(PropTypes.number).isRequired,\n  differentTile: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Tiles;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport Tiles from \"./Tiles\";\n\nconst INITIAL_SIZE = 2;\n\nfunction getRandomPosition(size) {\n  return Math.floor(Math.random() * size * size);\n}\n\nfunction getRandomColor() {\n  const h = Math.floor(Math.random() * 360);\n  const s = Math.floor(Math.random() * 40 + 30);\n  const l = Math.floor(Math.random() * 40 + 40);\n  return [h, s, l];\n}\n\nfunction generateInitialState() {\n  return {\n    color: getRandomColor(),\n    size: INITIAL_SIZE,\n    differentTile: getRandomPosition(INITIAL_SIZE),\n  };\n}\n\nfunction Play({ onGameOver }) {\n  const [{ color, size, differentTile }, setState] = useState(\n    generateInitialState\n  );\n  const score = size - INITIAL_SIZE;\n  const classes = useStyles();\n\n  function nextStep() {\n    setState(({ size }) => ({\n      size: size + 1,\n      color: getRandomColor(),\n      differentTile: getRandomPosition(size + 1),\n    }));\n  }\n\n  function handleClick(tileIndex) {\n    if (tileIndex === differentTile) {\n      return nextStep();\n    }\n\n    onGameOver(score);\n  }\n\n  return (\n    <>\n      <Title className={classes.title}>Pick the different color</Title>\n      <Tiles\n        size={size}\n        color={color}\n        differentTile={differentTile}\n        handleClick={handleClick}\n      />\n      <Title component=\"h3\" className={classes.score}>\n        Your score: {score}\n      </Title>\n    </>\n  );\n}\n\nconst useStyles = createUseStyles({\n  title: {\n    marginBottom: \"5.2rem\",\n  },\n  score: {\n    marginTop: \"5.2rem\",\n    marginBottom: 0,\n  },\n});\n\nPlay.propTypes = {\n  onGameOver: PropTypes.func.isRequired,\n};\n\nexport default Play;\n","export const BREAKPOINT_SMALL = \"600px\";\nexport const BREAKPOINT_MEDIUM = \"960px\";\nexport const BREAKPOINT_LARGE = \"1280px\";\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\n\nconst ordinalSuffix = {\n  1: \"st\",\n  2: \"nd\",\n  3: \"rd\",\n  default: \"th\",\n};\n\nfunction HighScores({ data }) {\n  const classes = useStyles();\n  return (\n    <table className={classes.table}>\n      <thead>\n        <tr>\n          <th>Rank</th>\n          <th>Score</th>\n          <th>Name</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((record, index) => (\n          <tr\n            key={`${index}_${record.name}_${record.score}`}\n            className={record.isNew ? classes.newRecord : \"\"}\n          >\n            <td>\n              {index + 1}\n              <sup>{ordinalSuffix[index] || ordinalSuffix.default}</sup>\n            </td>\n            <td>{record.score}</td>\n            <td className={classes.name}>{record.name}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nconst useStyles = createUseStyles({\n  table: {\n    width: \"100%\",\n    marginBottom: \"3.2rem\",\n    textAlign: \"center\",\n    \"& th\": {\n      textTransform: \"uppercase\",\n      fontWeight: \"lighter\",\n      fontSize: \"2rem\",\n    },\n    \"& th, & td\": {\n      padding: \"0 1.6rem 0.8rem\",\n    },\n  },\n  newRecord: {\n    fontWeight: \"normal\",\n  },\n  name: {\n    textTransform: \"uppercase\",\n  },\n});\n\nHighScores.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      score: PropTypes.number,\n      isNew: PropTypes.bool,\n    })\n  ).isRequired,\n};\n\nexport default HighScores;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport { BREAKPOINT_SMALL } from \"../../styles/breakpoints\";\n\nfunction SaveScoreForm({ onSubmit, score }) {\n  const classes = useStyles();\n\n  useEffect(() => {\n    document.querySelector(\"#name\")?.focus();\n  }, []);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const { name, score } = event.target.elements;\n    onSubmit({ name: name.value, score: score.value });\n  }\n\n  return (\n    <>\n      <Title component=\"h3\" className={classes.title}>\n        Save your score\n      </Title>\n      <form autoComplete=\"off\" onSubmit={handleSubmit} className={classes.form}>\n        <input type=\"hidden\" id=\"score\" name=\"score\" value={score} />\n        <label>Enter you name</label>\n        <input id=\"name\" name=\"name\" maxLength=\"10\" required />\n        <button type=\"submit\">Save</button>\n      </form>\n    </>\n  );\n}\n\nconst useStyles = createUseStyles({\n  title: {\n    fontSize: \"2rem\",\n    marginBottom: \"1.6rem\",\n  },\n  form: {\n    display: \"flex\",\n    gap: \"1.6rem\",\n    width: \"100%\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n  },\n  [`@media (min-width: ${BREAKPOINT_SMALL})`]: {\n    form: {\n      flexDirection: \"row\",\n      alignItems: \"baseline\",\n      justifyContent: \"center\",\n      gap: \"0\",\n      \"& label\": {\n        marginRight: \"1.6rem\",\n      },\n      \"& input\": {\n        margin: \"0 -1px\",\n      },\n    },\n  },\n});\n\nSaveScoreForm.propTypes = {\n  score: PropTypes.number.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SaveScoreForm;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport { BREAKPOINT_SMALL } from \"../../styles/breakpoints\";\nimport { useLocalStorageState } from \"../../utils/useLocalStorageState\";\nimport HighScores from \"./HighScores\";\nimport SaveScoreForm from \"./SaveScoreForm\";\n\nconst SCORES_TO_SAVE = 5;\n\nfunction GameOver({ score, onReset }) {\n  const [saved, setSaved] = useState(false);\n  const [highScores, setHighScores] = useLocalStorageState(\n    \"pick-the-color-game:highScores\",\n    [],\n    {\n      deserialize: (value) =>\n        JSON.parse(value).map(({ isNew, ...score }) => score),\n    }\n  );\n  const classes = useStyles();\n\n  const canSave = (highScores[SCORES_TO_SAVE - 1]?.score || 0) < score;\n\n  function handleSubmit({ name, score }) {\n    setHighScores((highScores) => {\n      return [...highScores, { name, score, isNew: true }]\n        .sort((a, b) => b.score - a.score)\n        .slice(0, SCORES_TO_SAVE);\n    });\n    setSaved(true);\n  }\n\n  return (\n    <div className={classes.gameOver}>\n      <div className={classes.content}>\n        <Title\n          component=\"h2\"\n          className={classes.title}\n          topSeparator\n          bottomSeparator={!highScores.length}\n        >\n          Your score: {score}\n        </Title>\n        {highScores.length ? (\n          <>\n            <Title className={classes.title} topSeparator bottomSeparator>\n              High scores\n            </Title>\n            <HighScores data={highScores} />\n          </>\n        ) : null}\n        {!saved && canSave && (\n          <SaveScoreForm onSubmit={handleSubmit} score={score} />\n        )}\n      </div>\n      <button className={classes.button} onClick={onReset}>\n        Try again\n      </button>\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  gameOver: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    height: \"100%\",\n    justifyContent: \"space-between\",\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginBottom: \"3.2rem\",\n    width: \"100%\",\n  },\n  title: {\n    marginBottom: \"3.2rem\",\n  },\n  button: {\n    width: \"100%\",\n  },\n  [`@media (min-width: ${BREAKPOINT_SMALL})`]: {\n    button: {\n      width: \"auto\",\n    },\n    gameOver: {\n      width: \"auto\",\n      height: \"auto\",\n    },\n  },\n});\n\nGameOver.defaultProps = {\n  score: 0,\n};\n\nGameOver.propTypes = {\n  score: PropTypes.number,\n  onReset: PropTypes.func.isRequired,\n};\n\nexport default GameOver;\n","import { useEffect, useRef, useState } from \"react\";\n\nfunction useLocalStorageState(\n  key,\n  defaultValue = \"\",\n  { serialize = JSON.stringify, deserialize = JSON.parse } = {}\n) {\n  const [state, setState] = useState(() => {\n    const valueInLocalStorage = window.localStorage.getItem(key);\n    if (valueInLocalStorage) {\n      return deserialize(valueInLocalStorage);\n    }\n    return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n  });\n\n  const prevKeyRef = useRef(key);\n\n  useEffect(() => {\n    const prevKey = prevKeyRef.current;\n    if (prevKey !== key) {\n      window.localStorage.removeItem(prevKey);\n    }\n    prevKeyRef.current = key;\n    window.localStorage.setItem(key, serialize(state));\n  }, [key, state, serialize]);\n\n  return [state, setState];\n}\n\nexport { useLocalStorageState };\n","import React, { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Play from \"./features/play/Play\";\nimport GameOver from \"./features/game-over/GameOver\";\n\nfunction App() {\n  const [screen, setScreen] = useState(\"play\");\n  const [score, setScore] = useState();\n  const classes = useStyles();\n\n  const screens = {\n    play: (\n      <Play\n        onGameOver={(score) => {\n          setScore(score);\n          setScreen(\"gameOver\");\n        }}\n      />\n    ),\n    gameOver: <GameOver score={score} onReset={() => setScreen(\"play\")} />,\n  };\n\n  return <div className={classes.app}>{screens[screen] || screens.play}</div>;\n}\n\nconst useStyles = createUseStyles({\n  app: {\n    flex: 1,\n    display: \"flex\",\n    margin: \"3.2rem\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    boxSizing: \"border-box\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/global.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}