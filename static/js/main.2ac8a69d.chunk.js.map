{"version":3,"sources":["components/separator/Separator.js","components/title/Title.js","features/play/useMoveWithKeys.js","features/play/Tiles.js","features/play/Play.js","styles/breakpoints.js","features/game-over/HighScores.js","features/game-over/SaveScoreForm.js","features/game-over/GameOver.js","utils/useLocalStorageState.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","createUseStyles","root","border","borderTop","width","maxWidth","margin","Separator","classes","className","titleRoot","display","flexDirection","alignItems","title","textTransform","letterSpacing","fontWeight","marginLeft","textAlign","Title","component","Component","topSeparator","bottomSeparator","props","join","useEffect","require","useMoveWithKeys","parentRef","directionKeys","up","down","right","left","handleKeyDown","event","focusedIndex","Array","from","current","children","indexOf","document","activeElement","total","length","size","Math","sqrt","row","floor","column","key","nextFocus","tmp","focus","includes","undefined","window","addEventListener","removeEventListener","arrayToHSL","color","tiles","gridTemplateColumns","gridGap","height","tile","cursor","transition","padding","outline","transform","Tiles","differentTile","handleClick","differentColor","factor","plusOrMinus","generateDifferentColor","useRef","ref","map","_","tileIndex","style","backgroundColor","onClick","getRandomPosition","random","getRandomColor","generateInitialState","marginBottom","score","marginTop","Play","onGameOver","useState","setState","BREAKPOINT_SMALL","ordinalSuffix","1","2","3","default","table","fontSize","newRecord","name","HighScores","data","record","index","isNew","form","gap","justifyContent","marginRight","SaveScoreForm","onSubmit","querySelector","autoComplete","preventDefault","target","elements","value","type","id","maxLength","required","gameOver","content","button","GameOver","onReset","saved","setSaved","defaultValue","serialize","JSON","stringify","deserialize","parse","valueInLocalStorage","localStorage","getItem","state","prevKeyRef","prevKey","removeItem","setItem","useLocalStorageState","highScores","setHighScores","canSave","SCORES_TO_SAVE","sort","a","b","slice","app","flex","boxSizing","position","App","screen","setScreen","setScore","screens","play","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ac8a69d.chunk.js","sourcesContent":["import React from \"react\";\nimport { createUseStyles } from \"react-jss\";\n\nfunction Separator() {\n  const classes = useStyles();\n  return <hr className={classes.root} />;\n}\n\nconst useStyles = createUseStyles({\n  root: {\n    border: \"none\",\n    borderTop: \"1px solid grey\",\n    width: \"100%\",\n    maxWidth: \"250px\",\n    margin: \"0 0 3.2rem\",\n  },\n});\n\nexport default Separator;\n","import React from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Separator from \"../separator/Separator\";\n\nfunction Title({\n  component: Component = \"h1\",\n  className,\n  topSeparator = false,\n  bottomSeparator = false,\n  ...props\n}) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.titleRoot}>\n      {topSeparator && <Separator />}\n      <Component className={[classes.title, className].join(\" \")} {...props} />\n      {bottomSeparator && <Separator />}\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  titleRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  title: {\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.5em\",\n    fontWeight: \"lighter\",\n    margin: \"0 auto 5.2rem\",\n    marginLeft: \"1.6rem\",\n    textAlign: \"center\",\n  },\n});\n\nexport default Title;\n","const { useEffect } = require(\"react\");\n\nfunction useMoveWithKeys(\n  parentRef,\n  directionKeys = {\n    up: [\"ArrowUp\", \"w\"],\n    down: [\"ArrowDown\", \"s\"],\n    right: [\"ArrowRight\", \"d\"],\n    left: [\"ArrowLeft\", \"a\"],\n  }\n) {\n  useEffect(() => {\n    function handleKeyDown(event) {\n      const focusedIndex = Array.from(parentRef.current.children).indexOf(\n        document.activeElement\n      );\n      const total = parentRef.current.children.length;\n      const size = Math.sqrt(total);\n      const row = Math.floor(focusedIndex / size);\n      const column = Math.floor(focusedIndex % size);\n\n      if (event.key === \"Tab\") {\n        return;\n      }\n\n      if (focusedIndex === -1) {\n        return parentRef.current.children[0]?.focus();\n      }\n\n      let nextFocus, tmp;\n\n      if (directionKeys.down.includes(event.key)) {\n        tmp = (row + 1) * size + column;\n        if (tmp <= total) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.up.includes(event.key)) {\n        tmp = (row - 1) * size + column;\n        if (tmp >= 0) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.right.includes(event.key)) {\n        tmp = row * size + (column + 1);\n        if (Math.floor(tmp / size) === row) {\n          nextFocus = tmp;\n        }\n      } else if (directionKeys.left.includes(event.key)) {\n        tmp = row * size + (column - 1);\n        if (Math.floor(tmp / size) === row) {\n          nextFocus = tmp;\n        }\n      }\n\n      if (nextFocus !== undefined) {\n        return parentRef.current.children[nextFocus]?.focus();\n      }\n    }\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [directionKeys, parentRef]);\n}\n\nexport default useMoveWithKeys;\n","import React, { useRef } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport useMoveWithKeys from \"./useMoveWithKeys\";\n\nconst MAX_HEIGHT = 50;\nconst MAX_WIDTH = 100;\n\nfunction arrayToHSL(color) {\n  return `hsl(${color[0]}, ${color[1]}%, ${color[2]}%)`;\n}\n\nfunction generateDifferentColor(color, size) {\n  const factor = 30 / (size - 1);\n  const plusOrMinus = color[2] > 50 ? -1 : 1;\n\n  return [color[0], color[1], color[2] + factor * plusOrMinus];\n}\n\nfunction Tiles({ size, color, differentTile, handleClick }) {\n  const differentColor = generateDifferentColor(color, size);\n  const classes = useStyles({ size });\n  const parentRef = useRef();\n  useMoveWithKeys(parentRef);\n\n  return (\n    <div ref={parentRef} className={classes.tiles}>\n      {[...Array(size * size)].map((_, tileIndex) => (\n        <button\n          key={`${size}_${tileIndex}`}\n          className={classes.tile}\n          style={{\n            backgroundColor: arrayToHSL(\n              tileIndex === differentTile ? differentColor : color\n            ),\n          }}\n          onClick={() => handleClick(tileIndex)}\n        />\n      ))}\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  tiles: {\n    display: \"grid\",\n    gridTemplateColumns: ({ size }) => `repeat(${size}, 1fr)`,\n    gridGap: \"min(1vw, 1vh)\",\n    color: \"white\",\n    width: `calc(min(${MAX_HEIGHT}vh, ${MAX_WIDTH}vw) - 3.2rem)`,\n    height: `calc(min(${MAX_HEIGHT}vh, ${MAX_WIDTH}vw) - 3.2rem)`,\n  },\n  tile: {\n    border: \"none\",\n    cursor: \"pointer\",\n    transition: \"transform 0.2s linear\",\n    padding: 0,\n    \"&:focus, &:hover\": {\n      outline: \"none\",\n      transform: \"scale(0.9) rotate(2deg)\",\n    },\n  },\n});\n\nexport default Tiles;\n","import React, { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport Tiles from \"./Tiles\";\n\nconst INITIAL_SIZE = 2;\n\nfunction getRandomPosition(size) {\n  return Math.floor(Math.random() * size * size);\n}\n\nfunction getRandomColor() {\n  const h = Math.floor(Math.random() * 360);\n  const s = Math.floor(Math.random() * 40 + 30);\n  const l = Math.floor(Math.random() * 40 + 40);\n  return [h, s, l];\n}\n\nfunction generateInitialState() {\n  return {\n    color: getRandomColor(),\n    size: INITIAL_SIZE,\n    differentTile: getRandomPosition(INITIAL_SIZE),\n  };\n}\n\nfunction Play({ onGameOver }) {\n  const [{ color, size, differentTile }, setState] = useState(\n    generateInitialState\n  );\n  const score = size - INITIAL_SIZE;\n  const classes = useStyles();\n\n  function nextStep() {\n    setState(({ size }) => ({\n      size: size + 1,\n      color: getRandomColor(),\n      differentTile: getRandomPosition(size + 1),\n    }));\n  }\n\n  function handleClick(tileIndex) {\n    if (tileIndex === differentTile) {\n      return nextStep();\n    }\n\n    onGameOver(score);\n  }\n\n  return (\n    <>\n      <Title className={classes.title}>Pick the different color</Title>\n      <Tiles\n        size={size}\n        color={color}\n        differentTile={differentTile}\n        handleClick={handleClick}\n      />\n      <Title component=\"h3\" className={classes.score}>\n        Your score: {score}\n      </Title>\n    </>\n  );\n}\n\nconst useStyles = createUseStyles({\n  title: {\n    marginBottom: \"5.2rem\",\n  },\n  score: {\n    marginTop: \"5.2rem\",\n  },\n});\n\nexport default Play;\n","export const BREAKPOINT_SMALL = \"600px\";\nexport const BREAKPOINT_MEDIUM = \"960px\";\nexport const BREAKPOINT_LARGE = \"1280px\";\n","import React from \"react\";\nimport { createUseStyles } from \"react-jss\";\n\nconst ordinalSuffix = {\n  1: \"st\",\n  2: \"nd\",\n  3: \"rd\",\n  default: \"th\",\n};\n\nfunction HighScores({ data }) {\n  const classes = useStyles();\n  return (\n    <table className={classes.table}>\n      <thead>\n        <tr>\n          <th>Rank</th>\n          <th>Score</th>\n          <th>Name</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((record, index) => (\n          <tr\n            key={`${index}_${record.name}_${record.score}`}\n            className={record.isNew ? classes.newRecord : \"\"}\n          >\n            <td>\n              {index + 1}\n              <sup>{ordinalSuffix[index] || ordinalSuffix.default}</sup>\n            </td>\n            <td>{record.score}</td>\n            <td className={classes.name}>{record.name}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nconst useStyles = createUseStyles({\n  table: {\n    width: \"100%\",\n    marginBottom: \"3.2rem\",\n    textAlign: \"center\",\n    \"& th\": {\n      textTransform: \"uppercase\",\n      fontWeight: \"lighter\",\n      fontSize: \"2rem\",\n    },\n    \"& th, & td\": {\n      padding: \"0 1.6rem 0.8rem\",\n    },\n  },\n  newRecord: {\n    fontWeight: \"normal\",\n  },\n  name: {\n    textTransform: \"uppercase\",\n  },\n});\n\nexport default HighScores;\n","import React, { useEffect } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport { BREAKPOINT_SMALL } from \"../../styles/breakpoints\";\n\nfunction SaveScoreForm({ onSubmit, score }) {\n  const classes = useStyles();\n\n  useEffect(() => {\n    document.querySelector(\"#name\")?.focus();\n  }, []);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const { name, score } = event.target.elements;\n    onSubmit({ name: name.value, score: score.value });\n  }\n\n  return (\n    <>\n      <Title component=\"h3\" className={classes.title}>\n        Save your score\n      </Title>\n      <form autoComplete=\"off\" onSubmit={handleSubmit} className={classes.form}>\n        <input type=\"hidden\" id=\"score\" name=\"score\" value={score} />\n        <label>Enter you name</label>\n        <input id=\"name\" name=\"name\" maxLength=\"10\" required />\n        <button type=\"submit\">Save</button>\n      </form>\n    </>\n  );\n}\n\nconst useStyles = createUseStyles({\n  title: {\n    fontSize: \"2rem\",\n    marginBottom: \"1.6rem\",\n  },\n  form: {\n    display: \"flex\",\n    gap: \"1.6rem\",\n    width: \"100%\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n  },\n  [`@media (min-width: ${BREAKPOINT_SMALL})`]: {\n    form: {\n      flexDirection: \"row\",\n      alignItems: \"baseline\",\n      justifyContent: \"center\",\n      gap: \"0\",\n      \"& label\": {\n        marginRight: \"1.6rem\",\n      },\n      \"& input\": {\n        margin: \"0 -1px\",\n      },\n    },\n  },\n});\n\nexport default SaveScoreForm;\n","import React, { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Title from \"../../components/title/Title\";\nimport { BREAKPOINT_SMALL } from \"../../styles/breakpoints\";\nimport { useLocalStorageState } from \"../../utils/useLocalStorageState\";\nimport HighScores from \"./HighScores\";\nimport SaveScoreForm from \"./SaveScoreForm\";\n\nconst SCORES_TO_SAVE = 5;\n\nfunction GameOver({ score = 0, onReset }) {\n  const [saved, setSaved] = useState(false);\n  const [highScores, setHighScores] = useLocalStorageState(\n    \"pick-the-color-game:highScores\",\n    [],\n    {\n      deserialize: (value) =>\n        JSON.parse(value).map(({ isNew, ...score }) => score),\n    }\n  );\n  const classes = useStyles();\n\n  const canSave = (highScores[SCORES_TO_SAVE - 1]?.score || 0) < score;\n\n  function handleSubmit({ name, score }) {\n    setHighScores((highScores) => {\n      return [...highScores, { name, score, isNew: true }]\n        .sort((a, b) => b.score - a.score)\n        .slice(0, SCORES_TO_SAVE);\n    });\n    setSaved(true);\n  }\n\n  return (\n    <div className={classes.gameOver}>\n      <div className={classes.content}>\n        <Title\n          component=\"h2\"\n          className={classes.title}\n          topSeparator\n          bottomSeparator={!highScores.length}\n        >\n          Your score: {score}\n        </Title>\n        {highScores.length ? (\n          <>\n            <Title className={classes.title} topSeparator bottomSeparator>\n              High scores\n            </Title>\n            <HighScores data={highScores} />\n          </>\n        ) : null}\n        {!saved && canSave && (\n          <SaveScoreForm onSubmit={handleSubmit} score={score} />\n        )}\n      </div>\n      <button className={classes.button} onClick={onReset}>\n        Try again\n      </button>\n    </div>\n  );\n}\n\nconst useStyles = createUseStyles({\n  gameOver: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    height: \"100%\",\n    justifyContent: \"space-between\",\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginBottom: \"3.2rem\",\n    width: \"100%\",\n  },\n  title: {\n    marginBottom: \"3.2rem\",\n  },\n  button: {\n    width: \"100%\",\n  },\n  [`@media (min-width: ${BREAKPOINT_SMALL})`]: {\n    button: {\n      width: \"auto\",\n    },\n    gameOver: {\n      width: \"auto\",\n      height: \"auto\",\n    },\n  },\n});\n\nexport default GameOver;\n","import { useEffect, useRef, useState } from \"react\";\n\nfunction useLocalStorageState(\n  key,\n  defaultValue = \"\",\n  { serialize = JSON.stringify, deserialize = JSON.parse } = {}\n) {\n  const [state, setState] = useState(() => {\n    const valueInLocalStorage = window.localStorage.getItem(key);\n    if (valueInLocalStorage) {\n      return deserialize(valueInLocalStorage);\n    }\n    return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n  });\n\n  const prevKeyRef = useRef(key);\n\n  useEffect(() => {\n    const prevKey = prevKeyRef.current;\n    if (prevKey !== key) {\n      window.localStorage.removeItem(prevKey);\n    }\n    prevKeyRef.current = key;\n    window.localStorage.setItem(key, serialize(state));\n  }, [key, state, serialize]);\n\n  return [state, setState];\n}\n\nexport { useLocalStorageState };\n","import React, { useState } from \"react\";\nimport { createUseStyles } from \"react-jss\";\nimport Play from \"./features/play/Play\";\nimport GameOver from \"./features/game-over/GameOver\";\n\nfunction App() {\n  const [screen, setScreen] = useState(\"play\");\n  const [score, setScore] = useState();\n  const classes = useStyles();\n\n  const screens = {\n    play: (\n      <Play\n        onGameOver={(score) => {\n          setScore(score);\n          setScreen(\"gameOver\");\n        }}\n      />\n    ),\n    gameOver: <GameOver score={score} onReset={() => setScreen(\"play\")} />,\n  };\n\n  return <div className={classes.app}>{screens[screen] || screens.play}</div>;\n}\n\nconst useStyles = createUseStyles({\n  app: {\n    flex: 1,\n    display: \"flex\",\n    margin: \"3.2rem\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    boxSizing: \"border-box\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/global.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}